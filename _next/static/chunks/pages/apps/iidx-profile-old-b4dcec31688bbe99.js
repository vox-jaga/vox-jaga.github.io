(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{3452:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/iidx-profile-old",function(){return s(1689)}])},4176:(e,r,s)=>{"use strict";s.d(r,{A:()=>d});var t=s(4848),n=s(3368),l=s.n(n),i=s(6540),o=s(8133),a=s.n(o);function c(){return(0,i.useEffect)(()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-1G1JKP1REN")}),(0,t.jsx)(a(),{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=G-1G1JKP1REN"})}function d(e){let{title:r="Nemunemu Blog"}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{children:(0,t.jsx)("title",{children:r+" | NemuNemu"})}),(0,t.jsx)(c,{})]})}},3803:(e,r,s)=>{"use strict";s.d(r,{A:()=>d});var t=s(4848),n=s(1106),l=s.n(n),i=s(39),o=s(6424),a=s(4122),c=s.n(a);function d(){return(0,t.jsx)(i.A,{"aria-label":"breadcrumb",className:c().footer,sx:{mt:2},children:function(e){let r=e.split("/"),s=[],n="";for(let e=0;e<r.length-1;e++)n+=r[e]+"/",s[e]=(0,t.jsx)(l(),{underline:"hover",color:"inherit",href:n,children:0==e?"Home":r[e]},e);return s}((0,o.usePathname)())})}},45:(e,r,s)=>{"use strict";s.d(r,{n:()=>l});var t=s(2907),n=s(4429);function l(){let e=(0,t.A)();return!(0,n.A)(e.breakpoints.up("sm"))}},9881:(e,r,s)=>{"use strict";s.d(r,{A:()=>x});var t=s(4848),n=s(429);s(1943);var l=s(6247),i=s(4191),o=s(9713),a=s(4551),c=s(2064),d=s(45);function x(){(0,d.n)();{let e=(0,t.jsx)(i.A,{orientation:"vertical",variant:"middle",sx:{borderWidth:1,borderColor:"white"},flexItem:!0}),r={mx:2,fontSize:{xs:"1.2rem",sm:"1.4rem"}};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.A,{position:"relative",elevation:0,sx:{maxWidth:{xs:1,sm:"48rem"},mx:"auto"},children:[(0,t.jsx)(a.A,{disableGutters:!0,sx:{background:"white",pl:2},children:(0,t.jsx)(l.A,{sx:{fontSize:{xs:32,sm:96},color:"black"},children:"JAGA's Lab."})}),(0,t.jsxs)(c.A,{sx:{display:"flex",color:"white"},children:[(0,t.jsx)(n.A,{href:"/",underline:"hover",color:"inherit",children:(0,t.jsx)(l.A,{sx:{...r},children:"Home"})}),e,(0,t.jsx)(n.A,{href:"/posts",underline:"hover",color:"inherit",children:(0,t.jsx)(l.A,{sx:{...r},children:"Blog"})}),e,(0,t.jsx)(n.A,{href:"/apps",underline:"hover",color:"inherit",children:(0,t.jsx)(l.A,{sx:{...r},children:"Apps"})}),e,(0,t.jsx)(n.A,{href:"/privacy-policy/website",underline:"hover",color:"inherit",children:(0,t.jsx)(l.A,{sx:{...r},children:"Policy"})})]})]})})}}},8232:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var t=s(4848),n=s(1943),l=s.n(n);function i(e){let{children:r}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:l().container,children:r})})}s(6540)},1689:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>L});var t=s(4848),n=s(8232),l=s(9881),i=s(45),o=s(4176),a=s(6540),c=s(3803),d=s(1705),x=s(5451),h=s(3580),u=s(6168),A=s(44),m=s(1771),j=s(7568),f=s(8036),p=s(258),b=s(9990),v=s(1703),y=s(503),C=s(6247),E=s(2064),g=s(4191);function L(){let e;let[r,s]=(0,a.useState)([]),[L,_]=(0,a.useState)([]),[N,R]=(0,a.useState)([]),[w,I]=(0,a.useState)([]),[D,O]=(0,a.useState)(["LATEST"]),[k,B]=(0,a.useState)("default"),[P,T]=(0,a.useState)("desc"),[z,G]=(0,a.useState)("lamp"),F={"NO PLAY":"⬛",FAILED:"❌","ASSIST CLEAR":"\uD83D\uDFEA","EASY CLEAR":"\uD83D\uDFE9",CLEAR:"\uD83D\uDFE6","HARD CLEAR":"\uD83D\uDFE5","EX HARD CLEAR":"\uD83D\uDFE8","FULLCOMBO CLEAR":"\uD83C\uDFC6"},H={LEGGENDARIA:"#a50082",ANOTHER:"#ea5550",HYPER:"#e9bc00",NORMAL:"royalblue",BEGINNER:"#a7d28d"},W=["limegreen","#ea5550","#e9bc00"],Y=["ALL"].concat(Object.keys(H)),J=["AAA","AA","A","B","C","D","E","F","---"],X=["ALL"].concat(["1st&substream","2nd style","3rd style","4th style","5th style","6th style","7th style","8th style","9th style","10th style","IIDX RED","HAPPY SKY","DistorteD","GOLD","DJ TROOPERS","EMPRESS","SIRIUS","Resort Anthem","Lincle","tricoro","SPADA","PENDUAL","copula","SINOBUZ","CANNON BALLERS","Rootage","HEROIC VERSE","BISTROVER","CastHour","RESIDENT","EPOLIS","Pinky Crush"].map((e,r)=>"".concat(r+1,", ").concat(e)).reverse()),M=function(){let e=["ALL"];for(let r=0;r<12;r++)e[r+1]=(12-r).toString();return e}();function V(e){let r=e.get("version");return r.includes(",")?r.split(",")[0]:r}async function U(){let e=new FormData(document.getElementById("filter-form"));e.set("version",V(e));let r=await fetch("https://2021072723412010135277.onamaeweb.jp/api/iidx/dates.php",{method:"POST",mode:"cors",body:e});O(JSON.parse(r=await r.text()))}async function K(){let e=await fetch("https://2021072723412010135277.onamaeweb.jp/api/iidx/ereter/index.php",{method:"POST",mode:"cors"});e=JSON.parse(e=await e.text());let r={};e.forEach(e=>{r[e.id]=[e.ecDiff,e.hcDiff,e.exhDiff]}),s(r)}function Q(e){let r=Object.keys(F);return e.map(e=>{let s=e[1],t=e[2],n=parseInt(e[3]),l=parseInt(e[4]),i=r.indexOf(e[5]),o=!isNaN(l);return{id:s+"_"+t,title:s,level:t,version:e[0],score:o?n:"---",missCount:o?l:"---",lamp:i,djLevel:e[6],playCount:e[7],starClass:i>=6?2:i>=5?1:i>=3?0:-1}})}async function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=new FormData(document.getElementById("filter-form"));e.length>0&&e.forEach(e=>r.set(e.key,e.value)),r.set("version",V(r));let s=await fetch("https://2021072723412010135277.onamaeweb.jp/api/iidx/index.php",{method:"POST",mode:"cors",body:r});console.log(s=await s.text());let t=Q((s=JSON.parse(s))[0]),n=function(e){let r=[];return e.forEach(e=>{r[e.id]=e}),r}(Q(s[1]));_(t=function(e,r){let s=e.length,t=[];for(let n=0;n<s;n++){let s={...e[n],scoreDiff:"---",missCountDiff:"---"},l=s.id;if(l in r&&"---"!=r[l].missCount){let e=parseInt(s.score-r[l].score),t=parseInt(s.missCount-r[l].missCount);s.scoreDiff=isNaN(e)?"---":e,s.missCountDiff=isNaN(t)?"---":t}t.push(s)}return t}(t,n)),R(er(t,z,k,P)),I(n)}function q(e,s){return r[e]&&0<=s&&s<3?(0,t.jsxs)("span",{style:{color:W[s]},children:["★",r[e][s].toFixed(1)]}):"---"}let $=["\uD83C\uDFC6 FULL COMBO","\uD83D\uDFE8 EX HARD","\uD83D\uDFE5 HARD","\uD83D\uDFE6 CLEAR","\uD83D\uDFE9 EASY CLEAR","\uD83D\uDFEA ASSIST CLEAR","❌ FAILED","⬛ NO PLAY"],ee=["AAA","AA","A","B","C","D","E 以下","NO PLAY"];function er(e,r,s,t){let n=e.concat();return"score"==r?n.sort((e,r)=>(function(e,r,s,t){let n="default"==s?e.score:e.scoreDiff,l="default"==s?r.score:r.scoreDiff;return"number"!=typeof n?1:"number"!=typeof l?-1:("desc"===t?1:-1)*(l-n)})(e,r,s,t)):"lamp"==r?n.sort((e,r)=>{var s,n;return s=e.lamp,n=r.lamp,0===s?1:0===n?-1:("desc"===t?1:-1)*(n-s)}):"missCount"==r?n.sort((e,r)=>(function(e,r,s,t){let n="default"==s?e.missCount:e.missCountDiff,l="default"==s?r.missCount:r.missCountDiff;return"number"!=typeof n?1:"number"!=typeof l?-1:("desc"===t?-1:1)*(l-n)})(e,r,s,t)):"star"==r?n.sort((e,r)=>es(e.id,e.starClass,r.id,r.starClass,t)):"nextStar"==r?n.sort((e,r)=>es(e.id,e.starClass+1,r.id,r.starClass+1,t)):"version"==r&&n.sort((e,r)=>{var s;return s=e.version,("desc"===t?1:-1)*(r.version-s)}),n}function es(e,s,t,n,l){if(!(e in r))return 1;if(!(t in r))return -1;let i=r[e][s],o=r[t][n];return i?o?("desc"===l?1:-1)*(o-i):-1:1}let et=Object.values(F);return e=(0,i.n)()?(0,t.jsx)(A.A,{sx:{mb:2,border:1,borderColor:"rgba(224, 224, 224, 1)",borderRadius:1},children:(0,t.jsxs)(m.A,{size:"small",children:[(0,t.jsx)(j.A,{children:(0,t.jsx)(f.A,{children:(0,t.jsx)(p.A,{sx:{p:0},children:(0,t.jsxs)(h.A,{color:"desc"==P?"primary":"secondary",exclusive:!0,value:z,onChange:(e,r)=>{let s=P,t=z;null==r?T(s="asc"==P?"desc":"asc"):G(t=r),R(er(L,t,k,s))},"aria-label":"ソートの種類",children:[(0,t.jsx)(u.A,{value:"lamp",sx:{borderBottom:0,borderLeft:0,borderTop:0},children:"ランプ順"}),(0,t.jsx)(u.A,{value:"score",sx:{borderBottom:0,borderTop:0},children:"スコア順"}),(0,t.jsx)(u.A,{value:"missCount",sx:{borderTop:0,borderBottom:0},children:"ミスカン順"})]})})})}),(0,t.jsxs)(b.A,{children:[N.map((e,r)=>(0,t.jsx)(f.A,{hover:!0,children:(0,t.jsxs)(p.A,{children:[(0,t.jsxs)(C.A,{sx:{color:H[e.level]},children:[r+1,". ",e.title]}),(0,t.jsxs)(C.A,{sx:{ml:2},children:["lamp"==z?"★":"・"," Lamp: ",et[e.lamp]]}),(0,t.jsxs)(C.A,{sx:{ml:2},children:["score"==z?"★":"・"," Score: ",e.score,", ",e.djLevel]}),(0,t.jsxs)(C.A,{sx:{ml:2},children:["missCount"==z?"★":"・"," Miss count: ",e.missCount]})]})},e.id)),(0,t.jsx)(f.A,{children:(0,t.jsx)(p.A,{sx:{borderBottom:"none"},children:"Last"})})]})]})}):(0,t.jsx)(A.A,{sx:{mb:2,border:1,borderColor:"rgba(224, 224, 224, 1)",borderRadius:1},children:(0,t.jsxs)(m.A,{size:"small",children:[(0,t.jsxs)(j.A,{children:[(0,t.jsx)(f.A,{sx:{background:"black",color:"white",borderColor:"white"},children:(0,t.jsx)(p.A,{sx:{px:1.5},children:(0,t.jsxs)(E.A,{sx:{display:"flex",color:"white"},children:[(0,t.jsx)(C.A,{sx:{mr:1},children:"ランプ"}),(0,t.jsx)(g.A,{sx:{borderColor:"white",borderWidth:1.2},orientation:"vertical",flexItem:!0}),(0,t.jsx)(C.A,{sx:{mx:1},children:"曲名"}),(0,t.jsx)(g.A,{sx:{borderColor:"white",borderWidth:1.2},orientation:"vertical",flexItem:!0}),(0,t.jsx)(C.A,{sx:{mx:1},children:"スコア"}),(0,t.jsx)(g.A,{sx:{borderColor:"white",borderWidth:1.2},orientation:"vertical",flexItem:!0}),(0,t.jsx)(C.A,{sx:{mx:1},children:"ミスカウント"}),(0,t.jsx)(g.A,{sx:{borderColor:"white",borderWidth:1.2},orientation:"vertical",flexItem:!0}),(0,t.jsx)(C.A,{sx:{mx:1},children:"DJ Level"}),(0,t.jsx)(g.A,{sx:{borderColor:"white",borderWidth:1.2},orientation:"vertical",flexItem:!0}),(0,t.jsx)(C.A,{sx:{mx:1},children:"達成済みリコメ"}),(0,t.jsx)(g.A,{sx:{borderColor:"white",borderWidth:1.2},orientation:"vertical",flexItem:!0}),(0,t.jsx)(C.A,{sx:{mx:1},children:"次のリコメ"})]})})}),(0,t.jsx)(f.A,{children:(0,t.jsx)(p.A,{sx:{p:0},children:(0,t.jsxs)(h.A,{color:"desc"==P?"primary":"secondary",exclusive:!0,value:z,onChange:(e,r)=>{let s=P,t=z;null==r?T(s="asc"==P?"desc":"asc"):G(t=r),R(er(L,t,k,s))},"aria-label":"ソートの種類",children:[(0,t.jsx)(u.A,{value:"lamp",sx:{borderBottom:0,borderLeft:0,borderTop:0},children:"ランプ順"}),(0,t.jsx)(u.A,{value:"score",sx:{borderBottom:0,borderTop:0},children:"スコア順"}),(0,t.jsx)(u.A,{value:"missCount",sx:{borderTop:0,borderBottom:0},children:"ミスカン順"}),(0,t.jsx)(u.A,{value:"star",sx:{borderTop:0,borderBottom:0},children:"達成済みリコメ順"}),(0,t.jsx)(u.A,{value:"nextStar",sx:{borderTop:0,borderBottom:0},children:"次のリコメ順"}),(0,t.jsx)(u.A,{value:"version",sx:{borderTop:0,borderBottom:0},children:"バージョン順"})]})})})]}),(0,t.jsx)(b.A,{children:N.map((e,r)=>{var s;return(0,t.jsx)(f.A,{hover:!0,sx:{background:(e.playCount,"white")},children:(0,t.jsx)(p.A,{children:(0,t.jsxs)(y.A,{container:!0,spacing:2,children:[(0,t.jsx)(y.A,{size:.5,children:(0,t.jsx)(C.A,{children:et[e.lamp]})}),(0,t.jsx)(y.A,{size:4,children:(0,t.jsxs)(C.A,{sx:{color:H[e.level],textOverflow:"clip"},children:[r+1,". ",e.title+({LEGGENDARIA:" (L)",ANOTHER:" (A)",HYPER:" (H)",NORMAL:" (N)",BEGINNER:" (BEGINNER)"})[e.level]]})}),(0,t.jsx)(y.A,{size:2,children:(0,t.jsxs)(C.A,{sx:{ml:2},children:[e.score," (",S(e.scoreDiff),")"]})}),(0,t.jsx)(y.A,{size:2,children:(0,t.jsxs)(C.A,{sx:{ml:2},children:[e.missCount," (",S(e.missCountDiff),")"]})}),(0,t.jsx)(y.A,{size:1,children:(0,t.jsx)(C.A,{sx:{ml:2},children:e.djLevel})}),(0,t.jsx)(y.A,{size:1,children:(0,t.jsx)(C.A,{sx:{ml:2},children:q(e.id,e.starClass)})}),(0,t.jsx)(y.A,{size:1,children:(0,t.jsx)(C.A,{sx:{ml:2},children:q(e.id,e.starClass+1)})})]})})},e.id)})})]})}),(0,a.useEffect)(()=>{K(),Z([{key:"main-date",value:"LATEST"},{key:"comp-date",value:"2024-10-07"},{key:"version",value:X[0]},{key:"difficulty",value:M[1]},{key:"level",value:"ALL"}]),U()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{title:"IIDXプレイ可視化アプリ"}),(0,t.jsx)(l.A,{}),(0,t.jsxs)(n.A,{children:[(0,t.jsx)("h1",{children:"IIDXプレイ可視化アプリ"}),(0,t.jsx)("p",{children:"現在はサイト制作者JAGAのデータを公開する目的で開発しています。"}),(0,t.jsxs)(y.A,{container:!0,spacing:2,sx:{mb:2},children:[(0,t.jsx)(y.A,{size:{xs:12,sm:5},children:(0,t.jsx)(A.A,{component:v.A,variant:"outlined",children:(0,t.jsxs)(m.A,{size:"small",children:[(0,t.jsx)(j.A,{children:(0,t.jsxs)(f.A,{children:[(0,t.jsx)(p.A,{align:"left",children:"クリアタイプ"}),(0,t.jsx)(p.A,{align:"left",children:"曲数"})]})}),(0,t.jsx)(b.A,{children:(function(){let e=Object.values(F),r={};e.forEach((e,s)=>{r[e]=s});let[s,t]=[Array(e.length),Array(e.length)];for(let[e,r]of(s.fill(0),t.fill(0),L.forEach(e=>{s[e.lamp]+=1}),Object.entries(w)))t[r.lamp]+=1;return s.map((e,r)=>{let s=e-t[r];return s=s>=0?"+".concat(s):"".concat(s),"".concat(e," (").concat(s,")")})})().toReversed().map((e,r)=>(0,t.jsxs)(f.A,{children:[(0,t.jsx)(p.A,{sx:{borderBottom:0},children:$[r]}),(0,t.jsx)(p.A,{sx:{borderBottom:0},children:e})]},"lamp-"+r))})]})})}),(0,t.jsx)(y.A,{size:{xs:12,sm:5},children:(0,t.jsx)(A.A,{component:v.A,variant:"outlined",children:(0,t.jsxs)(m.A,{size:"small",children:[(0,t.jsx)(j.A,{children:(0,t.jsxs)(f.A,{children:[(0,t.jsx)(p.A,{align:"left",children:"クリアタイプ"}),(0,t.jsx)(p.A,{align:"left",children:"曲数"})]})}),(0,t.jsx)(b.A,{children:(function(){let e={};J.forEach((r,s)=>{e[r]=s});let[r,s]=[Array(J.length),Array(J.length)];for(let[t,n]of(r.fill(0),s.fill(0),L.forEach(s=>{r[e[s.djLevel]]+=1}),Object.entries(w)))s[e[n.djLevel]]+=1;let t=r.splice(r.length-2,1)[0];return r[r.length-2]+=t,t=s.splice(s.length-2,1)[0],s[s.length-2]+=t,r.map((e,r)=>{let t=e-s[r];return t=t>=0?"+".concat(t):"".concat(t),"".concat(e," (").concat(t,")")})})().map((e,r)=>(0,t.jsxs)(f.A,{children:[(0,t.jsx)(p.A,{sx:{borderBottom:0},children:ee[r]}),(0,t.jsx)(p.A,{sx:{borderBottom:0},children:e})]},"score-"+r))})]})})})]}),(0,t.jsxs)("form",{id:"filter-form",children:[(0,t.jsxs)(y.A,{container:!0,spacing:2,sx:{mb:2},children:[(0,t.jsx)(y.A,{size:{xs:6,sm:4},children:(0,t.jsx)(d.A,{disablePortal:!0,options:D,defaultValue:"LATEST",renderInput:e=>(0,t.jsx)(x.A,{name:"main-date",...e,label:"日付"}),onChange:(e,r)=>Z([{key:"main-date",value:r}])})}),(0,t.jsx)(y.A,{size:{xs:6,sm:4},children:(0,t.jsx)(d.A,{disablePortal:!0,options:D,defaultValue:"2024-10-07",renderInput:e=>(0,t.jsx)(x.A,{name:"comp-date",...e,label:"比較対象"}),onChange:(e,r)=>Z([{key:"comp-date",value:r}])})})]}),(0,t.jsxs)(y.A,{container:!0,spacing:2,sx:{mb:2},children:[(0,t.jsx)(y.A,{size:{xs:8,sm:4},children:(0,t.jsx)(d.A,{disablePortal:!0,options:X,defaultValue:X[0],renderInput:e=>(0,t.jsx)(x.A,{id:"category-input",name:"version",...e,label:"バージョン"}),onChange:(e,r)=>Z([{key:"version",value:r}])})}),(0,t.jsx)(y.A,{size:{xs:4,sm:2},children:(0,t.jsx)(d.A,{freeSolo:!0,disablePortal:!0,options:M,defaultValue:M[1],renderInput:e=>(0,t.jsx)(x.A,{id:"category-input",name:"difficulty",...e,label:"Difficulty"}),onChange:(e,r)=>Z([{key:"difficulty",value:r}])})}),(0,t.jsx)(y.A,{size:{xs:8,sm:4},children:(0,t.jsx)(d.A,{freeSolo:!0,disablePortal:!0,options:Y,defaultValue:Y[0],renderInput:e=>(0,t.jsx)(x.A,{id:"category-input",name:"level",...e,label:"Level"}),onChange:(e,r)=>Z([{key:"level",value:r}])})})]})]}),(0,t.jsxs)(h.A,{color:"primary",exclusive:!0,value:k,onChange:(e,r)=>{null!==r&&(R(er(L,z,r,P)),B(r))},"aria-label":"ソートの種類",sx:{mb:2},children:[(0,t.jsx)(u.A,{value:"default",children:"通常ソート"}),(0,t.jsx)(u.A,{value:"comparison",children:"（差分）ソート"})]}),e,(0,t.jsx)(c.A,{})]})]})}function S(e){return"number"!=typeof e?e:e<0?e.toString():"+"+e}},4122:e=>{e.exports={smallMargin:"custom_smallMargin___KcWW",footer:"custom_footer__oYWe_",niceColor:"custom_niceColor__BBmus",badColor:"custom_badColor__gqQZ8"}},1943:e=>{e.exports={container:"layout_container__FUycR",flexContainer:"layout_flexContainer__SmbaG",workContainer:"layout_workContainer__YHA5_",headerLink:"layout_headerLink__zXVey",header:"layout_header__SFlEE",background:"layout_background__oCFQX"}}},e=>{var r=r=>e(e.s=r);e.O(0,[467,106,958,503,451,442,809,636,593,792],()=>r(3452)),_N_E=e.O()}]);